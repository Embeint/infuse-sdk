/ {
	epacket_serial: epacket_serial {
		compatible = "embeint,epacket-serial";
		serial = <&uart0>;
	};

	data_logger_serial: data_logger_serial {
		compatible = "embeint,data-logger-epacket", "embeint,data-logger";
		epacket = <&epacket_serial>;

		tdf_logger_serial: tdf_logger_serial {
			compatible = "embeint,tdf-data-logger";
		};
	};

	epacket_bt_adv: epacket_bt_adv {
		compatible = "embeint,epacket-bt-adv";
	};

	data_logger_bt_adv: data_logger_bt_adv {
		compatible = "embeint,data-logger-epacket", "embeint,data-logger";
		epacket = <&epacket_bt_adv>;

		tdf_logger_bt_adv: tdf_logger_bt_adv {
			compatible = "embeint,tdf-data-logger";
		};
	};

	epacket_bt_peripheral: epacket_bt_peripheral {
		compatible = "embeint,epacket-bt-peripheral";
	};

	data_logger_bt_peripheral: data_logger_bt_peripheral {
		compatible = "embeint,data-logger-epacket", "embeint,data-logger";
		epacket = <&epacket_bt_peripheral>;

		tdf_logger_bt_peripheral: tdf_logger_bt_peripheral {
			compatible = "embeint,tdf-data-logger";
		};
	};

	data_logger_flash: data_logger_flash {
		compatible = "embeint,data-logger-flash-map", "embeint,data-logger";
		partition = <&data_logger_partition>;

		tdf_logger_flash: tdf_logger_flash {
			compatible = "embeint,tdf-data-logger";
		};
	};
};

&uart0 {
	zephyr,pm-device-runtime-auto;
};
&i2c1 {
	zephyr,pm-device-runtime-auto;
};
&mx25r64 {
	zephyr,pm-device-runtime-auto;

	partitions {
		compatible = "fixed-partitions";
		#address-cells = <1>;
		#size-cells = <1>;

		data_logger_partition: partition@0 {
			label = "data_logger";
			reg = <0x00000000 0x800000>;
		};
	};
};

#ifdef INFUSE_IS_BOOTLOADER

/* Bootloader doesn't know about external flash */
/delete-node/ &data_logger_flash;
/delete-node/ &data_logger_partition;

#endif /* INFUSE_IS_BOOTLOADER */
