common:
  tags: data_logger
  min_flash: 64
  min_ram: 32
tests:
  data_logger.exfat_multi:
    platform_allow:
      - native_sim
    integration_platforms:
      - native_sim
  data_logger.exfat_multi.pm:
    platform_allow:
      - native_sim
    integration_platforms:
      - native_sim
    extra_configs:
      - CONFIG_PM_DEVICE=y
      - CONFIG_PM_DEVICE_RUNTIME=y
  data_logger.exfat_multi.sd:
    build_only: true
    sysbuild: true
    depends_on: arduino_spi
    extra_args:
      - exfat_multi_file_SHIELD=sparkfun_microsd
    # Shield will fail to compile on any board with an existing SPI device
    # on the Arduino SPI bus. Limit testing to a board we know without this
    # problem.
    platform_allow:
      - nrf52840dk/nrf52840
    integration_platforms:
      - nrf52840dk/nrf52840
