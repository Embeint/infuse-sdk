# ePacket configuration

menuconfig EPACKET
	bool "ePacket subsystem"
	depends on POLL
	depends on NET_BUF

config EPACKET_CRYPTO
	bool
	depends on MBEDTLS_HKDF_C
	depends on MBEDTLS_CHACHAPOLY_AEAD_ENABLED
	default y

if EPACKET

module = EPACKET
module-str = epacket
source "subsys/logging/Kconfig.template.log_config"

config EPACKET_BUFFERS_TX
	int "Number of ePacket buffers for TX"
	range 1 16
	default 3

config EPACKET_BUFFERS_RX
	int "Number of ePacket buffers for RX"
	range 1 16
	default 3

config EPACKET_PACKET_SIZE_MAX
	int "Maximum supported ePacket packet size"
	range 64 2048
	default 555 if EPACKET_INTERFACE_SERIAL
	default 548 if NET_IPV4
	default 256
	help
	  512 byte serial payload + overhead = 555
	  IPv4 minimum MTU = 576 (28 byte IP + UDP header)
	  256 is sufficient for Bluetooth only devices.

config EPACKET_KEY_EXPORT
	bool "Support exporting ePacket derived keys"
	depends on ZTEST
	help
	  DO NOT enable this in production

rsource "interfaces/Kconfig"

endif # EPACKET
