# Infuse-IoT SDK key-value store

# Workaround for not being able to have commas in macro arguments
DT_CHOSEN_KV_PARTITION := infuse,kv-partition

config KV_STORE
	bool "Infuse-IoT key-value storage"
	depends on NVS
	depends on FLASH_MAP
	depends on $(dt_chosen_enabled,$(DT_CHOSEN_KV_PARTITION))

if KV_STORE

module = KV_STORE
module-str = key-value store
source "subsys/logging/Kconfig.template.log_config"

config KV_STORE_INIT_PRIORITY
	int "Flash init priority"
	default 55
	help
	  KV store initialization priority. The default value of 55 is
	  later than the default FLASH_INIT_PRIORITY value (50).

rsource "Kconfig.keys"

config KV_STORE_USER_KEYS
	bool "Enable user-defined KV store slots"
	help
	  Relies on the following two files existing in the `include` path:
		infuse_kv_user_types.h
	    infuse_kv_user_keys.c

endif # KV_STORE
