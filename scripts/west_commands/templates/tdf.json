{
    "structs": {
        "tdf_struct_mcuboot_img_sem_ver": {
            "description": "MCUboot semantic versioning struct",
            "fields": [
                {"name": "major", "type": "uint8_t"},
                {"name": "minor", "type": "uint8_t"},
                {"name": "revision", "type": "uint16_t"},
                {"name": "build_num", "type": "uint32_t"}
            ]
        },
        "tdf_struct_xyz_16bit": {
            "description": "Generic 3-axis sensor reading",
            "fields": [
                {"name": "x", "type": "int16_t"},
                {"name": "y", "type": "int16_t"},
                {"name": "z", "type": "int16_t"}
            ]
        }
    },
    "definitions": {
        "1": {
            "name": "ANNOUNCE",
            "description": "Common announcement packet",
            "fields": [
                {"name": "application", "type": "uint32_t", "description": "Unique application ID"},
                {"name": "version", "type": "struct tdf_struct_mcuboot_img_sem_ver", "description": "Running application version"},
                {"name": "uptime", "type": "uint32_t", "description": "Uptime in seconds"},
                {"name": "reboots", "type": "uint16_t", "description": "Reboot counter"}
            ]
        },
        "2": {
            "name": "BATTERY_STATE",
            "description": "General battery state",
            "fields": [
                {"name": "voltage_mv", "type": "uint32_t", "description": "Battery voltage (milliVolts)", "display_postfix": "mV"},
                {"name": "charge_ua", "type": "uint16_t", "description": "Charge current (microamps)", "display_postfix": "uA"},
                {"name": "soc", "type": "uint16_t", "description": "State of charge (centipercent)", "display_postfix": "%", "conversion": {"m": 0.01, "c": 0}}
            ]
        },
        "3": {
            "name": "ENVIRONMENTAL",
            "description": "General battery state",
            "fields": [
                {"name": "temperature", "type": "int32_t", "description": "Ambient temperature (millidegrees)", "display_postfix": "deg", "conversion": {"m": 0.001, "c": 0}},
                {"name": "pressure", "type": "uint32_t", "description": "Atmospheric pressure (pascals)", "display_postfix": "kPa", "conversion": {"m": 0.001, "c": 0} },
                {"name": "humidity", "type": "uint16_t", "description": "Relative humidity (centipercent)", "display_postfix": "%", "conversion": {"m": 0.01, "c": 0}}
            ]
        },
        "10": {
            "name": "ACC_2G",
            "description": "Accelerometer +-2G",
            "fields": [
                {"name": "sample", "type": "struct tdf_struct_xyz_16bit", "description": "Raw sample"}
            ]
        },
        "11": {
            "name": "ACC_4G",
            "description": "Accelerometer +-4G",
            "fields": [
                {"name": "sample", "type": "struct tdf_struct_xyz_16bit", "description": "Raw sample"}
            ]
        },
        "12": {
            "name": "ACC_8G",
            "description": "Accelerometer +-8G",
            "fields": [
                {"name": "sample", "type": "struct tdf_struct_xyz_16bit", "description": "Raw sample"}
            ]
        },
        "13": {
            "name": "ACC_16G",
            "description": "Accelerometer +-16G",
            "fields": [
                {"name": "sample", "type": "struct tdf_struct_xyz_16bit", "description": "Raw sample"}
            ]
        },
        "14": {
            "name": "GYR_125DPS",
            "description": "Gyroscope +-125 DPS",
            "fields": [
                {"name": "sample", "type": "struct tdf_struct_xyz_16bit", "description": "Raw sample"}
            ]
        },
        "15": {
            "name": "GYR_250DPS",
            "description": "Gyroscope +-250 DPS",
            "fields": [
                {"name": "sample", "type": "struct tdf_struct_xyz_16bit", "description": "Raw sample"}
            ]
        },
        "16": {
            "name": "GYR_500DPS",
            "description": "Gyroscope +-500 DPS",
            "fields": [
                {"name": "sample", "type": "struct tdf_struct_xyz_16bit", "description": "Raw sample"}
            ]
        },
        "17": {
            "name": "GYR_1000DPS",
            "description": "Gyroscope +-1000 DPS",
            "fields": [
                {"name": "sample", "type": "struct tdf_struct_xyz_16bit", "description": "Raw sample"}
            ]
        },
        "18": {
            "name": "GYR_2000DPS",
            "description": "Gyroscope +-2000 DPS",
            "fields": [
                {"name": "sample", "type": "struct tdf_struct_xyz_16bit", "description": "Raw sample"}
            ]
        },
        "100": {
            "name": "ARRAY_TYPE",
            "description": "Example array type",
            "fields": [
                {"name": "array", "type": "uint8_t", "num": 4, "description": "I am an array of length 4"}
            ]
        }
    }
}
