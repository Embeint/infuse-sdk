#!/usr/bin/env python3

"""Autogenerated RPC definitions"""

import ctypes
import enum

{% for name, info in structs.items() %}

class {{ name }}(ctypes.LittleEndianStructure):
    """{{ info['description'] }}"""

    _fields_ = [
{% for field in info['fields'] %}
        ("{{ field['py_name'] }}", {{ field['py_type'] }}),
{% endfor %}
    ]
    _pack_ = 1

{% endfor %}
{% for name, info in enums.items() %}

class {{ name }}(enum.IntEnum):
    """{{ info['description'] }}"""

{% for value in info['values'] %}
    {{ value['py_name'] }} = {{ value['value'] }}
{% endfor %}

{% endfor -%}
{% for command_id, info in commands.items() %}

class {{ info['name'] }}:
    """{{ info['description'] }}"""

    HELP = "{{ info['description'] }}"
    DESCRIPTION = "{{ info['description'] }}"
    COMMAND_ID = {{ command_id }}

    class request(ctypes.LittleEndianStructure):
        _fields_ = [
{% for field in info['request_params'] %}
            ("{{ field['name'] }}", {{ field['py_type'] }}),
{% endfor %}
        ]
        _pack_ = 1

    class response(ctypes.LittleEndianStructure):
        _fields_ = [
{% for field in info['response_params'] %}
            ("{{ field['name'] }}", {{ field['py_type'] }}),
{% endfor %}
        ]
        _pack_ = 1

{% endfor -%}
