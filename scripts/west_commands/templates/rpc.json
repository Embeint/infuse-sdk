{
    "structs": {
        "rpc_struct_mcuboot_img_sem_ver": {
            "description": "MCUboot semantic versioning struct",
            "fields": [
                {"name": "major", "type": "uint8_t"},
                {"name": "minor", "type": "uint8_t"},
                {"name": "revision", "type": "uint16_t"},
                {"name": "build_num", "type": "uint32_t"}
            ]
        },
        "rpc_struct_kv_store_value": {
            "description": "KV store data value",
            "fields": [
                {"name": "id", "type": "uint16_t"},
                {"name": "len", "type": "int16_t"},
                {"name": "data", "type": "uint8_t", "num": 0}
            ]
        }
    },
    "commands": {
        "1": {
            "name": "reboot",
            "description": "Reboot the device after a delay",
            "depends_on": "INFUSE_REBOOT",
            "default": "y if INFUSE_SDK",
            "default_auth": "EPACKET_AUTH_DEVICE",
            "request_params": [
                {"name": "delay_ms", "type": "uint32_t", "description": "Requested delay (0 == default)"}
            ],
            "response_params": [
                {"name": "delay_ms", "type": "uint32_t", "description": "Duration until reboot"}
            ]
        },
        "2": {
            "name": "fault",
            "description": "Immediately trigger an exception on the device",
            "depends_on": "INFUSE_REBOOT && ARM",
            "default": "y if INFUSE_SDK",
            "default_auth": "EPACKET_AUTH_DEVICE",
            "request_params": [
                {"name": "fault", "type": "uint8_t", "description": "K_ERR_* fault type to trigger"},
                {"name": "zero", "type": "uint32_t", "description": "Zero that the compiler doesn't know about"}

            ],
            "response_params": []
        },
        "3": {
            "name": "time_get",
            "description": "Get the current time knowledge of the device",
            "depends_on": "INFUSE_CIVIL_TIME",
            "default": "y if INFUSE_SDK",
            "default_auth": "EPACKET_AUTH_NETWORK",
            "request_params": [],
            "response_params": [
                {"name": "time_source", "type": "uint8_t", "description": "Source of the time knowledge"},
                {"name": "civil_time", "type": "uint64_t", "description": "Current civil time on the device"},
                {"name": "sync_age", "type": "uint32_t", "description": "How old the time knowledge is (seconds)"}
            ]
        },
        "4": {
            "name": "time_set",
            "description": "Set the current time of the device",
            "depends_on": "INFUSE_CIVIL_TIME",
            "default": "y if INFUSE_SDK",
            "default_auth": "EPACKET_AUTH_DEVICE",
            "request_params": [
                {"name": "civil_time", "type": "uint64_t", "description": "Current civil time on the device"}

            ],
            "response_params": []
        },
        "5": {
            "name": "kv_write",
            "description": "Write values to the KV store",
            "depends_on": "KV_STORE",
            "default": "y if INFUSE_SDK",
            "default_auth": "EPACKET_AUTH_DEVICE",
            "request_params": [
                {"name": "num", "type": "uint8_t", "description": "Number of values in buffer"},
                {"name": "values", "type": "struct rpc_struct_kv_store_value", "num": 0, "description": "Array of KV values"}
            ],
            "response_params": [
                {"name": "rc", "type": "int16_t", "num": 0, "description": "Result of writes"}
             ]
        },
        "6": {
            "name": "kv_read",
            "description": "Read values from the KV store",
            "depends_on": "KV_STORE",
            "default": "y if INFUSE_SDK",
            "default_auth": "EPACKET_AUTH_DEVICE",
            "request_params": [
                {"name": "num", "type": "uint8_t", "description": "Number of values to read"},
                {"name": "keys", "type": "uint16_t", "num": 0, "description": "Array of KV keys"}
            ],
            "response_params": [
                {"name": "values", "type": "struct rpc_struct_kv_store_value", "num": 0, "description": "Array of KV values"}
             ]
        },
        "32765": {
            "name": "data_sender",
            "description": "Send multiple INFUSE_RPC_DATA packets",
            "depends_on": "ENTROPY_GENERATOR",
            "default": "y if ZTEST",
            "default_auth": "EPACKET_AUTH_DEVICE",
            "rpc_data": true,
            "request_params": [],
            "response_params": []
        },
        "32766": {
            "name": "data_receiver",
            "description": "Receive multiple INFUSE_RPC_DATA packets",
            "default": "y if ZTEST",
            "default_auth": "EPACKET_AUTH_DEVICE",
            "rpc_data": true,
            "request_params": [],
            "response_params": [
                {"name": "received", "type": "uint32_t", "description": "Number of bytes received"}
            ]
        },
        "32767": {
            "name": "echo",
            "description": "Echo any input data in the response",
            "default": "y if ZTEST",
            "default_auth": "EPACKET_AUTH_NETWORK",
            "request_params": [
                {"name": "array", "type": "uint8_t", "num": 0, "description": "Binary data"}
            ],
            "response_params": [
                {"name": "array", "type": "uint8_t", "num": 0, "description": "Binary data"}
            ]
        }
    }
}
