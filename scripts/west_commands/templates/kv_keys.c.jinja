/**
 * @file
 * @brief Autogenerated KV store definitions
 * @copyright 2024 Embeint Inc
 * @author scripts/west_commands/cloudgen.py
 *
 * SPDX-License-Identifier: LicenseRef-Embeint
 */

#include <zephyr/toolchain.h>

#include "kv_internal.h"

static struct key_value_slot_definition kv_slots[] = {
{% for info in definitions %}
#ifdef CONFIG_KV_STORE_{{ info['name'] }}
	{
		.key = {{ info['key'] }},
		.range = {{ info['range_val'] }},
		.flags = {{ info['flags'] }},
	},
#endif /* CONFIG_KV_STORE_{{ info['name'] }} */
{% endfor %}
};

/* Detect changes in struct size as this array exists in every application */
BUILD_ASSERT(sizeof(struct key_value_slot_definition) == 4);

struct key_value_slot_definition *kv_internal_slot_definitions(size_t *num)
{
	*num = ARRAY_SIZE(kv_slots);
	return kv_slots;
}
