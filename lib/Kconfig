# Infuse IoT libraries

config INFUSE_COMMON_BOOT
	bool "Infuse IoT common boot logic"
	default y if INFUSE_SDK

config INFUSE_REBOOT
	bool "Infuse IoT reboot logic"
	depends on REBOOT
	depends on HWINFO
	depends on INFUSE_CIVIL_TIME
	depends on RETENTION
	# Cannot use mutexes inside ISRs
	depends on RETENTION_MUTEX_FORCE_DISABLE
	depends on RETAINED_MEM_MUTEX_FORCE_DISABLE

config INFUSE_SECURITY
	bool "Infuse IoT security"
	depends on MBEDTLS
	depends on MBEDTLS_HKDF_C
	depends on MBEDTLS_CHACHAPOLY_AEAD_ENABLED
	default y if INFUSE_SDK

config INFUSE_SECURITY_CHACHA_KEY_EXPORT
	bool "Enable exporting ChaCha20-Poly1305 symmetric keys"
	depends on INFUSE_SECURITY
	depends on ZTEST
	default y if ZTEST
	help
	  DO NOT enable this in production

config INFUSE_CIVIL_TIME
	bool "Infuse IoT civil time library"

config INFUSE_CIVIL_TIME_PRINT_ON_SYNC
	bool "Print current time on time sync"
	depends on INFUSE_CIVIL_TIME
	default y

if INFUSE_COMMON_BOOT
module = INFUSE_COMMON
module-str = infuse
source "subsys/logging/Kconfig.template.log_config"
endif # INFUSE_COMMON_BOOT

rsource "crypto/Kconfig"
